<div class="section-add-user">


  <div class="add-user-formulaire">

    <h1 class="titre-add-user">Ajouter un utilisateur</h1>

    <form class="form-add-user" 
   [formGroup]="userForm"
    (ngSubmit)=" onSubmit()" 
    novalidate>


      <div class="form-group1">

        <select class="form-control input-add-user"
        formControlName="role"
          required >
          <option value="" disabled selected hidden>Type de compte</option>
          <option>Admin</option>

          <option>Employé</option>

          <option>Formateur</option>

          <option>Ecole</option>
        </select>
        <div class="alert-danger" *ngIf="!userForm.controls['role'].valid && (userForm.controls['role'].touched)">
          <div [hidden]="!userForm.controls['role'].errors.required">
            role is required.
          </div>
        </div>

      </div>

      <div class="container-formulaire ">
        <div class="container-formulaire-left">
          <div class="form-group">

            <input type="text" 
            placeholder="Nom d'utilisateur" 
            class="form-control input-add-user" 
            formControlName="username"
              required 
              minlength="3" 
              maxlength="20" />

              <div class="alert-danger" *ngIf="!userForm.controls['username'].valid && (userForm.controls['username'].touched)">
                <div [hidden]="!userForm.controls['username'].errors.required">
                  username is required.
                </div>
                <div [hidden]="!userForm.controls['username'].errors.minlength">
                  username must be have 3 character length.
                </div>
                <div [hidden]="!userForm.controls['username'].errors.maxlength">
                  username must be have 20 character length.
                </div>
              </div>

          </div>

          <div class="form-group">
            <input type="email" placeholder="Email" class="form-control input-add-user"
            formControlName="email"
              required 
              email />

             <div class="alert-danger" *ngIf="!userForm.controls['email'].valid && (userForm.controls['email'].touched)">
                <div [hidden]="!userForm.controls['email'].errors.required">
                  email is required.
                </div>
                <div [hidden]="!userForm.controls['email'].errors.email">
                  email must be a valid mail adresse
                </div>
               
              </div>

          </div>

          <div class="form-group">
            <input type="password" placeholder="Mot de passe" class="form-control input-add-user"
            
            formControlName="password"
               required 
               minlength="6"  />

               <div class="alert-danger" *ngIf="!userForm.controls['password'].valid && (userForm.controls['password'].touched)">
                <div [hidden]="!userForm.controls['password'].errors.required">
                  password is required.
                </div>
                <div [hidden]="!userForm.controls['password'].errors.minlength">
                  password must be have 6 character length.
                </div>
              
              </div>


          </div>

          <div class="form-group"  *ngIf="userForm.controls['role'].value != 'Ecole'">
            <input type="password" placeholder="Confirmer mot de passe" class="form-control input-add-user"
            formControlName="confirmpassword"             
              required
               minlength="6" />

               <div class="alert-danger" *ngIf="(!userForm.controls['confirmpassword'].valid &&  (userForm.controls['confirmpassword'].touched))">
                <div [hidden]="!userForm.controls['confirmpassword'].errors.required">
                  confirmpassword is required.
                </div>
                <div [hidden]="!userForm.controls['confirmpassword'].errors.minlength">
                  confirmpassword must be have 6 character length.
                </div>

               
              
              </div>

              <div class="alert-danger" *ngIf=" (userForm.controls['confirmpassword'].value != userForm.controls['password'].value && (userForm.controls['confirmpassword'].touched))">

                <div [hidden]="userForm.controls['confirmpassword'].value == userForm.controls['password'].value">
                  wrong password 
                </div>
              
              </div>

          </div>

        </div>

        <div class="container-formulaire-right" >

       

          <div class="form-group" >
            <input type="text" placeholder="Nom " class="form-control input-add-user"
            formControlName="nom"     
             
             
                 />

                 <div class="alert-danger" *ngIf="!userForm.controls['nom'].valid && (userForm.controls['nom'].touched)">
                  <div [hidden]="!userForm.controls['nom'].errors.required">
                    nom is required.
                  </div>
                  <div [hidden]="!userForm.controls['nom'].errors.minlength">
                    nom must be have 3 character length.
                  </div>
                  <div [hidden]="!userForm.controls['nom'].errors.maxlength">
                    nom must be have 20 character length.
                  </div>
                </div>

          </div> 

       

     

          <div class="form-group" *ngIf="userForm.controls['role'].value != 'Ecole'">
            <input type="text" placeholder="Prénom" class="form-control input-add-user" 
            formControlName="prenom" 
             />

              <div class="alert-danger" *ngIf="!userForm.controls['prenom'].valid && (userForm.controls['prenom'].touched)">
                <div [hidden]="!userForm.controls['prenom'].errors.required">
                  prenom is required.
                </div>
                <div [hidden]="!userForm.controls['prenom'].errors.minlength">
                  prenom must be have 3 character length.
                </div>
                <div [hidden]="!userForm.controls['prenom'].errors.maxlength">
                  prenom must be have 20 character length.
                </div>
              </div>
          </div>

          <div class="form-group" *ngIf="userForm.controls['role'].value != 'Ecole'">
            <input type="date" placeholder="Date de naissance" class="form-control input-add-user"
            formControlName="dateNaissance"  
               />

               <div class="alert-danger" *ngIf="!userForm.controls['dateNaissance'].valid && (userForm.controls['dateNaissance'].touched)">
                <div [hidden]="!userForm.controls['dateNaissance'].errors.required">
                  date is required.
                </div>
                <div [hidden]="!userForm.controls['dateNaissance'].errors.date">
                  date de Naissance must be a valid date
                </div>
               
              </div>


          </div>

          <div class="form-group">
            <input type="tel" maxlength="8" placeholder="Numéro de télèphone" class="form-control input-add-user"
            formControlName="telephone" 
              required 
              tel 
              minlength="8"
                />

                <div class="alert-danger" *ngIf="!userForm.controls['telephone'].valid && (userForm.controls['telephone'].touched)">
                  <div [hidden]="!userForm.controls['telephone'].errors.required">
                    telephone is required.
                  </div>
                  <div [hidden]="!userForm.controls['telephone'].errors.minlength">
                    telephone must be have 8 character length.
                  </div>
                  <div [hidden]="!userForm.controls['telephone'].errors.tel">
                    telephone must be a phone number 
                  </div>
                </div>

          </div>

          <div class="form-group"  *ngIf="userForm.controls['role'].value == 'Ecole'">
            <input type="password" placeholder="Confirmer mot de passe" class="form-control input-add-user"
            formControlName="confirmpassword"             
              required
               minlength="6" />

               <div class="alert-danger" *ngIf="(!userForm.controls['confirmpassword'].valid &&  (userForm.controls['confirmpassword'].touched))">
                <div [hidden]="!userForm.controls['confirmpassword'].errors.required">
                  confirmpassword is required.
                </div>
                <div [hidden]="!userForm.controls['confirmpassword'].errors.minlength">
                  confirmpassword must be have 6 character length.
                </div>

              
              </div>

              <div class="alert-danger" *ngIf=" (userForm.controls['confirmpassword'].value != userForm.controls['password'].value && (userForm.controls['confirmpassword'].touched))">

                <div [hidden]="userForm.controls['confirmpassword'].value == userForm.controls['password'].value">
                  wrong password 
                </div>
              
              </div>

          </div>


        </div>

      </div>

      <div class="form-group1" >

        <select class="form-control input-add-user select-adresse" 
        formControlName="adresse"
        required
        >

          <option value="" disabled selected hidden>Adresse</option>

          <option> Ariana </option>
          <option> Béja</option>
          <option>Ben Arous </option>
          <option>Bizerte </option>
          <option>Gabès </option>
          <option>Gafsa</option>
          <option>Jendouba</option>
          <option>Kairouan</option>
          <option>Kasserine </option>
          <option>Kébili </option>
          <option>Le Kef </option>
          <option>Mahdia </option>
          <option>La Manouba </option>
          <option>Médenine </option>
          <option>Monastir </option>
          <option>Nabeul </option>
          <option>Sfax </option>
          <option> Sidi Bouzid
          <option> Siliana</option>
          <option> Sousse</option>
          <option> Tataouine</option>
          <option> Tozeur</option>
          <option> Tunis</option>
          <option> Zaghouan</option>
        </select>

        <div class="alert-danger" *ngIf="!userForm.controls['adresse'].valid && (userForm.controls['adresse'].touched)">
          <div [hidden]="!userForm.controls['adresse'].errors.required">
            adresse is required.
          </div>
        </div>

      </div>

      <div class="container-formulaire ">
        <div class="container-formulaire-left">

          <div class="form-group">
            <div class="d-flex btn-add-user-display">

              <button class="  btn btn-upload-photo-user" (click)="gotoListeUser()">
               Annuler
              </button>
                                                                                                   
            </div>

          </div>
        </div>

        <div class="container-formulaire-right">

          <div class="form-group">
            <div class="d-flex btn-add-user-display">

              <button class="btn btn-primary btn-block btn-add-user" type="submit" [disabled]="!userForm.valid">
                Ajouter
              </button>

            </div>

          </div>

        </div>

      </div>

    </form>
  </div>

</div>
